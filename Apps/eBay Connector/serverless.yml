service:
  name: eb-app-EbayConnector

custom:
  sqs:
    dev: arn:aws:sqs:us-east-1:997357843271:EventBusApp-eBayConnector
    prod: arn:aws:sqs:us-east-1:912918454053:EventBusApp-eBayConnector
  deploymentBucket:
    dev: digicore-lambda-deployment-dev
    prod: digicore-lambda-deployment
  role:
    dev: arn:aws:iam::997357843271:role/Lambda
    prod: arn:aws:iam::912918454053:role/Lambda
  ebay-url:
    dev: https://api.sandbox.ebay.com/wsapi
    prod: https://api.ebay.com/wsapi
      
provider:
  name: aws
  runtime: java8
  region: us-east-1
  stage: ${opt:stage,'dev'}
  stackName: ${self:service.name}
  deploymentBucket:
    name: ${self:custom.deploymentBucket.${self:provider.stage}}
    serverSideEncryption: AES256
  role: ${self:custom.role.${self:provider.stage}}
  
package:
  artifact: target/ebay-connector-dev.jar

functions:
  handle:
    handler: com.serverless.Handler
    name: ${self:service.name}-${self:provider.stage}
    timeout: 60
    memorySize: 1024
    environment:
      STAGE: ${self:provider.stage}
      EBAY_API_URL: ${self:custom.ebay-url.${self:provider.stage}}
    events:
      - sqs: ${self:custom.sqs.${self:provider.stage}}
      

